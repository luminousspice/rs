<!DOCTYPE html>
<html class="no-js" lang="ja" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
<meta name="description" content='Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成し、障害や操作ミスなどの不測の事態に備えています。このバックアップファイルを使った復旧方法を説明します。さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。'>
<meta name="keywords" content="Anki">

<meta property="og:type" content="article" />
<meta property="og:description" content='Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成し、障害や操作ミスなどの不測の事態に備えています。このバックアップファイルを使った復旧方法を説明します。さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。'/>
<meta property="og:title" content="Anki自動バックアップ機能の使い方" />
<meta property="og:site_name" content="the Right Stuff" />
<meta property="og:url" content="https://rs.luminousspice.com/anki_automatic_backup/">
<meta property="og:locale" content="ja">
<meta property="og:image" content="https://rs.luminousspice.com/apple-touch-icon.png" />

<meta property="article:published_time" content="2013-07-05T23:00:59Z"/>
<meta property="article:modified_time" content="2017-09-04T01:23:30Z"/>



<meta property="article:tag" content="Anki">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@luminousspice">
<meta name="twitter:title" content="Anki自動バックアップ機能の使い方">
<meta name="twitter:creator" content="@luminousspice">
<meta name="twitter:description" content='Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成し、障害や操作ミスなどの不測の事態に備えています。このバックアップファイルを使った復旧方法を説明します。さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。'>
<meta name="twitter:image:src" content="https://rs.luminousspice.com/apple-touch-icon.png">
<meta name="twitter:domain" content="luminousspice.com">

  <base href="https://rs.luminousspice.com/anki_automatic_backup/">
  <title>Anki自動バックアップ機能の使い方 | the right stuff</title>

  <link rel="stylesheet" href="https://rs.luminousspice.com/css/rs.css">

  <link rel="apple-touch-icon" href="https://rs.luminousspice.com/apple-touch-icon.png">
  <link rel="shortcut icon" href="https://rs.luminousspice.com/favicon.ico" type="image/x-icon">
  
  <link rel="canonical" href="https://rs.luminousspice.com/anki_automatic_backup/">
  <link href="https://rs.luminousspice.com/index.xml" rel="alternate" type="application/rss+xml" title="the Right Stuff" />
  <link href="https://rs.luminousspice.com/index.xml" rel="feed" type="application/rss+xml" title="the Right Stuff" />
</head>


  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    このコンテンツは @luminousspice が非同期的に更新しています。経時的な順序に意味はありません。
  </div>

  <nav class="sidebar-nav">
    
    <a class="sidebar-nav-item " href="https://rs.luminousspice.com/table-of-contents/">総目次</a>
    <a class="sidebar-nav-item " href="https://rs.luminousspice.com/index-how-to-anki/">Anki 索引</a>
    <a class="sidebar-nav-item " href="https://rs.luminousspice.com/post/">アーカイブ</a>
    <a class="sidebar-nav-item " href="https://rs.luminousspice.com/search/">全文検索</a>
    
    <a class="sidebar-nav-item" href="https://github.com/luminousspice">GitHub project</a>
  </nav>

  <div class="sidebar-item">
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://rs.luminousspice.com/" title="Home">the Right Stuff</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="post">
  <h1 class="post-title">Anki自動バックアップ機能の使い方</h1>
  <span class="post-date"><time datetime="2013-07-05T23:00:59Z"></time>2017-09-04 更新</span>
  <nav class="toc">
    <div id="toc"></div>
  </nav>
  <aside class="notice">
  
<div class="alert">
  <strong>注意:</strong> このページは、個人的な参照目的で保管しています。古いバージョンの Anki に基づいて作成しており、最新のバージョンでは変更されている可能性があります。
</div>


  </aside>
  <div class="post-content">
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成し、障害や操作ミスなどの不測の事態に備えています。このバックアップファイルを使った復旧方法を説明します。さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_自動バックアップとは">自動バックアップとは</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成します。
Ankiがコレクションファイルを閉じるタイミングとは、Ankiを終了する時、プロファイルを変更する時、単語帳を同期する時です。
既定では過去30ファイル分保存していて、障害や操作ミスなどの不測の事態に備えています。</p>
</div>
<div class="paragraph">
<p>このバックアップファイルを使った復旧方法を説明します。</p>
</div>
<div class="paragraph">
<p>さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。</p>
</div>
<div class="paragraph">
<p>Anki の iOS アプリ AnkiMobile の自動バックアップについては、<a href="https://rs.luminousspice.com/how-to-ankimobile-backup/">AnkiMobile ノート: 自動バックアップ</a>をご覧下さい。</p>
</div>
<div class="sect2">
<h3 id="_自動バックアップの注意点">自動バックアップの注意点</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>自動バックアップでは、ディスクの障害やコンピュータの故障には対応できません。また、メディアファイルは対象としていません。
データを安全に保管するには、定期的に手動でバックアップを行う必要があります。</p>
</div>
<div class="paragraph">
<p>最も簡単な手動バックアップの方法は、Ankiフォルダーを丸ごとバックアップすることです。その場合、必ずAnkiを終了してから行ってください。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_自動バックアップの設定">自動バックアップの設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>バックアップファイルの設定は、メニューバーから [Anki] - [環境設定] (または [ツール] - [設定]) を選択し、[バックアップ] タブをクリックします。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://rs.luminousspice.com/images/automatic_backup_1.png" alt="環境設定画面">
</div>
<div class="title">図 1. 環境設定画面</div>
</div>
<div class="paragraph">
<p>この設定画面で、保存するファイル数を指定できます。既定では30です。</p>
</div>
<div class="paragraph">
<p>バックアップファイルを見つけるには、[バックアップフォルダを開く]リンクをクリックすると、保存しているフォルダにアクセスできます。 実際のパスは既定では、 <code>(書類, ドキュメントフォルダ)/Anki/(プロファイル名)/backups</code> になります。
バックアップファイルは <code>backup-(連番).apkg</code> という名前で保存しています。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_自動バックアップからの復旧方法">自動バックアップからの復旧方法</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>バックアップフォルダーの中の最新のバックアップファイルをダブルクリックすると、読み込みを行いコレクションデータを復旧します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_削除ログからの復旧方法">削除ログからの復旧方法</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Anki2.0.9からはプロファイルディレクトリ内の <code>deleted.txt</code> ファイルに削除したカードのフィールドの内容を保存するようになりました。</p>
</div>
<div class="paragraph">
<p>このファイルに記録している削除したノートをテキストファイルの読み込み機能を使って復旧することができます。
一度に一種類のノートタイプの読み込みしかできませんので、ノートタイプ毎に読み込み処理を行う必要があります。</p>
</div>
<div class="paragraph">
<p>読み込み機能の詳しい内容については、<a href="https://rs.luminousspice.com/how-to-import/">Ankiにデータをまとめて取り込む</a>で説明しています。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_手動でバックアップを作るアドオン">手動でバックアップを作るアドオン</h2>
<div class="sectionbody">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p><a href="https://ankiweb.net/shared/info/1790131139">Buckup Key</a> はバックアップ機能を手動で呼び出すアドオンです。メニューバーで [File] - [Save Backup] を選択するか、ショートカットキー [Cmd/Ctrl+S] から呼び出せます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/luminousspice/anki-addons/master/screenshots/backup_key.png" alt="メニューからの呼び出し">
</div>
<div class="title">図 2. メニューからの呼び出し</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_更新情報">更新情報</h2>
<div class="sectionbody">
<div class="paragraph">
<p>2013/07/05: 初出<br>
2017/09/04: 追加 手動でバックアップを作るアドオン<br></p>
</div>
</div>
</div>

  </div>
  <aside class="reference">
  
  
  </aside>
</div>

      <footer>
        <div class="footer">
          &copy; 2020 luminousspice.com.
        </div>
      </footer>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

<script>
var addtoc = function() {

  var threshold = 5;
  var toc = document.getElementById('toc');      
  var widget = document.querySelector('.toc');   
  var pre1 = document.querySelector('.sect1');   
  var pre2 = document.querySelector('#preamble');
  var headings = document.querySelectorAll('.post-content h2');
  if (!toc || !widget) {
    return;
  }
  if (headings.length < threshold) {
    return;
  }

  list = [];
  list.push('<div class="toc-title">この記事の内容</div><ol>');

    for (var i=0; i < headings.length; i++) {
      var h = headings[i];
      var d = document.createElement('a');
      var aname = 'i-' + i;
      d.name = aname;
      h.parentNode.insertBefore(d, h);
      var s = '<li><a href="https:\/\/rs.luminousspice.com\/anki_automatic_backup\/#' + aname + '">' + h.innerHTML + '</a></li>';
      list.push(s);
    }

  list.push('</ol>');
  toc.innerHTML = list.join("");
 
  if (pre2){
    pre2.appendChild(widget);
  } else {
    pre1.parentNode.insertBefore(widget, pre1); 
   }
}

addtoc();
</script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-29141274-4', 'auto');
	
	ga('send', 'pageview');
}
</script>



  </body>
</html>
