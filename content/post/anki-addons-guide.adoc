---
slug: "anki-addons-guide"
date: "2014-04-14T05:00:17+00:00"
lastmod: "2017-08-18T03:49:28+00:00"
title: "Anki アドオンガイド - Anki をもっと使いやすくするアドオンたち"
weight: 20
categories: ["Anki"]
tags: ["Anki","Markdown","アドオン","TTS"]
anki: ["アドオン","アドオンガイド","ショートカット","ノートの登録","メディアの登録","再生速度","文字サイズ","統計","音声"]
excerpt: "Anki は、ユーザーが標準機能を拡張変更できるアドオン機能を提供しています。ユーザーは AnkiWeb にアドオンを公開でき、Anki を使って簡単にインストールできます。自分で使ってみたアドオンの中から、誰にでも役立つようなアドオンを選んで紹介します。"
---
= Anki アドオンガイド - Anki をもっと使いやすくするアドオンたち
:author: luminousspice
:lang: ja
:encoding: UTF-8
:keywords:
:description: Anki は、ユーザーが標準機能を拡張変更できるアドオン機能を提供しています。ユーザーは AnkiWeb にアドオンを公開でき、Anki を使って簡単にインストールできます。自分で使ってみたアドオンの中から、誰にでも役立つようなアドオンを選んで紹介します。
:figure-caption: 図

////
http://rs.luminousspice.com/anki-addons-guide/
////

{description}

== このアドオンガイドを使う前に

link:/how-to-use-shared-resources/[Ankiの共有リソースを使ってみる]では、Anki の共有アドオンの取得、インストール、削除など基本的な説明しています。もし、まだアドオンを使ったことがない方はそちらも参考にしてみてください。

*注意*: 

* Anki のアドオンは、PC (Desktop) 版でのみ動作します。PC 版で作成したカードが、モバイル版で動作する場合もあります。
* ここでは、Anki 2.0.x 対応のアドオンを紹介しています。Anki 2.1.x では基本的には動作しません。

このガイドで紹介するそれぞれのアドオンのタイトルは、AnkiWeb のダウンロードページにリンクしています。

== かゆいところに手が届くアドオンたち

小さいけどあると絶対に手放せないニッチなアドオンたち。

.かゆいところに手が届くアドオンたち
image::/images/addons_guide_1.png["かゆいところに手が届くアドオンたち"]

=== https://ankiweb.net/shared/info/1867966335[Bigger Show Answer Button]

単に [解答を表示] ボタンが横長になっただけなのですが、非常に便利です。(図 1 の 1)

実のところ自分でつくろうかと思っていたので、同じことを考えている人は世の中にいるんだなと感心しました。

=== https://ankiweb.net/shared/info/498789867[Replay buttons on card]

音声ファイルが表示フィールドに含まれていると、再生ボタンを表示してくれます。こちらも地味に便利です。(図 1 の 2)

=== https://ankiweb.net/shared/info/234253523[Audio Playback Speed]

音声を再生速度を落として再生し直すショートカットキーを設定します。
[5]: 50%, [6]: 60%, ... [9]: 90%, [0]: 100% で再生します。 

=== https://ankiweb.net/shared/info/1908633307[Sound volume control.]

音声ファイルの音量制御のショートカットキーを設定します。(Command/Ctrl + +, Command/Ctrl + -)

*注:* 

* 次に紹介する Zoom とキーの割り当てが重複しています。同時使用すると、正しく動作しない可能性があります。
* link:/mplayer-shortcut-for-anki-video/[動画再生のショートカットキー]は標準で用意されています。

=== https://ankiweb.net/shared/info/1956318463[Zoom]

学習画面の文字サイズをキーボードショートカットで拡大縮小できるようになります。(Command/Ctrl + +, Command/Ctrl + -)

*注:* 入手できなくなった View Size Adjust と同じ機能を持つアドオンです。

=== https://ankiweb.net/shared/info/1496166067[Night Mode]

このアドオンは、暗い場所でも学習しやすくなるよう、ナイトモードの画面表示を実現します。

.ナイトモード設定画面
image::http://ankigene.luminousspice.com/images/night-mode.png[ナイトモード設定画面]

=== https://ankiweb.net/shared/info/1790131139[Backup Key]

このアドオンは、メインウィンドウの単語帳一覧でバックアップ作成するショートカットキー (Cmd/Ctrl+S) を追加します。

.バックアップ機能呼び出し例
image::/images/addon-backup_key.png[バックアップ機能呼び出し例]

== 学習管理に役立つアドオンたち

学習の進捗管理に役立つアドオンです。

=== https://ankiweb.net/shared/info/3179425861[New and max cards]

これも地味なアドオンですが、単語帳のオプショングループのうち、新規と復習の学習条件を一望できます。
影響を受ける親単語帳の設定が横に表示される点が便利です。

メニューバーから [ツール] - [New/Max Cards Configuration] を開くと設定ウィンドウが開きます。

.New/Max Cards 設定画面
image::/images/addons_newmax_cards.png["New/Max Cards 設定画面"]

=== https://ankiweb.net/shared/info/1417170896[load balancer]

復習期日のピークをならしてくれます。
復習をさぼってたくさんのカードを抱えた人限定でおすすめです。
統計情報に難易度の予測項目 (Difficulty Forecast) が追加されます。

このアドオンの設定項目は、メニューバーから [Anki] - [環境設定] (または [ツール] - [設定]) を選択し、[load balancer] タブを選択すると呼び出せます。インストールしたら必ず確認しておきましょう。

.load balancer 設定画面
image::/images/how2anki_3_10.png["load balancer"]

=== https://ankiweb.net/shared/info/1147586609[Maturing Cards]

成熟したカードの枚数の履歴を統計情報の一番最後に表示してくれる。学習の進捗状況を見る一つの指標として使っています。

.Maturing Cards
image::/images/how2anki_3_11.png["Maturing Cards"]

=== https://ankiweb.net/shared/info/763339789[Progress graph]

Maturing Cards とは反対にどれだけのカードを学習し始めたのか表示してくれます。
熟知したカードの枚数にどうしても目が行きがちがちですが、安定して新規追加できているか確認することが出来ます。

.Progress graph
image::/images/addons_progress_graph.png["Progress graph"]

=== https://ankiweb.net/shared/info/1999018922[Separate Learn and Relearn in the Answer Buttons graph]

このアドオンは、統計情報のボタンの選択状況から、新規カードの学習と復習カードの再学習の結果を分離します。

.Separate Learn and Relearn in the Answer Buttons graph
image::/images/addon-learn-relearn.png["Separate Learn and Relearn in the Answer Buttons graph"]

=== https://ankiweb.net/shared/info/1771074083[Review Heatmap]

このアドオンは、Anki での学習活動を可視化するヒートマップを提供します。
このグラフを見るだけで、毎日休まず続けようというやる気が湧いてきます。

.Review Heatmap
image::/images/addon-review-heatmap.png["Review Heatmap"]

=== https://ankiweb.net/shared/info/494944895[Ease Factor Histogram]

このアドオンは易しさの値の分布表を統計情報に追加します。Spaced Repetition が機能する限界値 130% に偏り過ぎていないか確認できます。

.易しさの値 度数分布表
image::/images/addon-ease-factor-hard.png[易しさの値 度数分布表]

このアドオンの機能については、link:/addon-ease-factor-histogram/[Ease Factor Histogram 単語帳の健全性を診断するアドオン]で詳しく説明しています。

=== https://ankiweb.net/shared/info/1481634779[Another Retreat]

このアドオンは、忘れてしまったカードの復習期日設定アルゴリズムに修正を加えます。現状の SM2 とその派生系のアルゴリズムは、失敗したカードは新規カードと同じ状態からやり直しますが、このアドオンで過去の学習実績を考慮するように変更しました。

例えば、3日間覚えていて 6 日間たったら忘れてしまったカードも、3 ヵ月間覚えていて半年たったら忘れてしまったカードも、Anki では間隔 1 日からやり直しです。

このアドオンは、それぞれのカードの失敗後の復習期間を、それぞれ 3 日、3 ヵ月に割り当てます。

.Another Retreat 導入後 学習モデル
image::/images/Leitner_system.svg[Another Retreat 導入後 学習モデル]

このアドオンについての詳しい説明は、link:/anki-lapse-management/[忘れた Anki カードの出直し方]に掲載しています。


== 教材作成に役立つアドオン

凝った教材をつくる場合や、大量に教材をつくる時に役立つアドオンを紹介します。

=== https://ankiweb.net/shared/info/301952613[AwesomeTTS]

Text to Speech機能を追加するアドオンです。MP3データを作成しなくても、文字を読み上げてくれます。MacOS Xの読み上げ機能(say コマンド)、Oxford Dictionary、VoiceText (日本語) に対応しています。事前に読み上げたファイルを保存しておくことも可能です。

さらに指定したノートのフィールドから一括してテキストを読み込んで、音声ファイルを自動生成してフィールドに書き込む機能も含まれています。この機能を使って音声ファイルを同期すれば、アドオンが使えない AnkiMobile でも同じ音声を聴くことができます。

あらかじめ、設定項目をプリセットとして保存しておくと、学習画面の選択範囲を読み上げることもできます。また、プリセットをグループ化すると、複数の音声を自動的に変更しながら読み上げることができます。

.選択範囲の読み上げ
image::/images/awesometts-presetgroup-say.png["選択範囲の読み上げ"]

カードテンプレートを編集してAwesomeTTSを機能させる方法は、link:/how-to-edit-cards/[Ankiのカード表示を編集する]で、音声ファイルの自動生成についてはlink:/bulk-import-media-files-into-anki/[画像、音声、動画などメディアファイルを Anki へ一括登録]で説明しています。プリセットの使い方については、link:/awesometts-preset/[AwesomeTTS プリセットの活用]をご覧下さい。

機能の詳しい内容は、link:https://ankiatts.appspot.com/[ドキュメント]をお読みください。

=== https://ankiweb.net/shared/info/3100585138[Download audio]

オンライン辞書などで公開している音声データを検索してダウンロードするアドオンです。

このアドオンを動作させるには、ノートに Audio という名前のフィールドを追加するか、ノートタイプ [Standard with audio fields] あるいは [Japanese with audio fields] を指定することが必要です。

.Download audio
image::/images/addon-download-audio.png["Download audio"]

このアドオンを詳細に設定するための、link:https://ospalh.github.io/anki-addons/Download_audio.html[マニュアル]も用意されています。

=== https://ankiweb.net/shared/info/1531997860[Media Import]

指定したフォルダの中にあるメディアファイルからノートを書き起こしてくれるアドオン。
大量のメディアデータから教材を作成する時に非常に役立ちます。

.Media Import の処理完了
image::/images/media_bulk_import_4.png["Media Import の処理完了"]

このアドオン Media Import の簡単な利用例をlink:/bulk-import-media-files-into-anki/[画像、音声、動画などメディアファイルを Anki へ一括登録]で紹介しています。

=== https://ankiweb.net/shared/info/1111933094[Image Occlusion Enhanced]

暗記ペンを Anki 上で実現するアドオン。
地図、解剖図、反応回路図など図表の一部をマスクして出題できます。

このアドオンは、Image Occlusion の開発者から保守引き継いだ方による機能拡張版です。

詳しい設定はlink:https://github.com/Glutanimate/image-occlusion-enhanced/wiki[ドキュメント]あるいはlink:https://www.youtube.com/playlist?list=PL3MozITKTz5YFHDGB19ypxcYfJ1ITk_6o[チュートリアル動画]をお読みください。

=== https://ankiweb.net/shared/info/162313389[Power format pack]

ノートエディタで指定できる書式を強化するアドオンです。
ツールバーボタンから表やリスト、コードブロック、取り消し線、罫線などが利用できます。Markdown を使ったノートの書式設定も可能です。

ツールバーボタンの表示は、メニューバー [ツール] - [Supplementary buttons add-on (options)] - [Button options] から設定できます。

.Power format pack を使った表組の指定
image::/images/addons-power-format-pack.png["Power format pack を使った表組の指定"]

=== https://ankiweb.net/shared/info/1749692420[Add Note From Clipboard]

このアドオンは、Anki のメインウィンドウにフォーカスが移ると、クリップボードの内容から直接ノートを追加します。HTML タグ、[sound:] タグ、穴埋め {{c1::}} タグも正しく処理し、単語帳やノートの名前、タグに日本語が使えます。同時に複数のコマンドを使用して、ノートタイプを指定し、複数の単語帳に振り分けて登録することも可能です。表計算ソフト LibreOffice Calc のセルから直接追加できました。

.サンプル登録用データ
----
@anki-add	基本	漢字::反対語	メディア
黒字	<b>赤字</b>
起筆	擱筆 [sound:擱筆.mp3]
凝固	融解 [sound:融解.mp4]
無常	常住 <audio src="常住.mp3" controls>
経度	緯度 <img src="緯度.png">
@anki-add	穴埋め	漢字::反対語	穴埋め
直行 {{c1::迂回}}	うかい
----

=== https://ankiweb.net/shared/info/1895937979[Feed to Anki]

このアドオンは、RSS フィードからカードを自動生成します。毎日少しずつカードを楽して追加したい場合に適しています。色々な辞書サイトの Word of the Day をカード化するために作りました。

.カード作成例
image::/images/feed-to-anki-am.png[カード作成例]

このアドオンの詳しい説明は、link:/addon-feed-to-anki-for-wotd/[Feed to Anki 毎日英単語のカードを増やせるアドオン]をご覧ください。

== 教材管理に役立つアドオン

登録ノートの件数が増えてくると威力を発揮するアドオンたちです。

=== https://ankiweb.net/shared/info/46837454[Export Browser's card list contents to CSV file Enhanced]

ブラウザー上で選択した内容をCSV形式で書き出してくれます。
標準の書き出し機能より、条件を絞ってデータを書き出すことができる点が重宝します。

呼び出す手順は次の通りです。

. ブラウザー上で検索条件を設定し、出力したいカードを選択する。
. [編集] - [Export Selected to CSV] を選択する。

.Export Browser's card list contents to CSV file Enhanced の呼び出し方
image::/images/how2anki_3_8.png["Export Browser's card list contents to CSV file Enhanced の呼び出し方"]

*注:* 入手できなくなった Export Browser's card list contents to CSV file を別の作者が問題修正したものです。

=== https://ankiweb.net/shared/info/874215009[Advanced Browser]

フィールドやタグの内容、平均解答時間など標準では表示できない項目が、カードブラウザー内に表示できるようになります。
カード枚数が増えて、定型的な作業が増えてくると威力を発揮します。
Anki の標準機能に盛り込んでもおかしくない機能を提供してくれます。
(注: 検索条件を保存する機能は、Anki 2.0.27 で本体の機能として採用されました。)

.Advanced Browser Back フィールドをブラウザー内に表示
image::/images/addons_advanced_browser.png["Advanced Browser"]

=== https://ankiweb.net/shared/info/1089921461[Hierarchical Tags]

ブラウザー内でタグを階層化表示できるようになります。ノートの分類にタグを多用している場合、ブラウザー画面が見やすく整理できます。
階層の指定には、コロンを重ねます。

.階層化したタグの記述法
----
life::植物::花
----

.サイドバー内のタグを階層化表示
image::/images/addons_hierarchical_tags.png["Hierarchical Tags"]

=== https://ankiweb.net/shared/info/544521385[Advanced Previewer]

ブラウザのカードプレビュー機能を強化するアドオンです。カードの両面を同時に表示したり、カードブラウザで選択した複数のカードを一度にプレビューすることができます。

.複数のカードの両面をプレビュー表示
image::/images/addon-advanced-previewer.png["Advanced Previewer"]

=== https://ankiweb.net/shared/info/138501288[Search and Replace Tags]

カードブラウザにタグの検索置換機能を追加するアドオンです。

.設定画面
image::http://ankigene.luminousspice.com/images/addon-search-and-replace-tags.png["設定画面"]

=== https://ankiweb.net/shared/info/225180905[Highlight Search Results in the Browser]

このアドオンは、カードブラウザでの検索結果をハイライトして見やすくします。

.検索結果
image::/images/addon-highlight-search.png["検索結果"]

== アドオンを使い続けるのに必要なこと

気に入って使い続けているアドオンがあれば、ぜひ AnkiWeb のダウンロードサイトでレイティングやコメントを付けてください。

ユーザーからの反応がアドオン作者が開発を継続する意欲に繋がります。
アドオンの開発作業には、性能の向上や機能の追加だけではなく、問題や障害の解決も含まれます。

ユーザーがアドオンをインストールした時には正常に動作し、その後アドオンに全く変更を加えなかったとしても、次の様な原因から障害が発生することが考えられます。

* Anki 本体や同梱しているライブラリーを更新した時
* 別の Anki アドオンを追加、更新した時
* Anki を使っている PC のシステムを更新した時

アドオンの作者に直接的な原因はありませんが、正常動作のためにはアドオンの修正が必要になる場合があります。

....
作者に常に自分のアドオンの動作に関心を持ってもらうことが、ユーザーの継続利用にとって大切なことです。
....

一人の作者の複数のアドオンで同時に問題が発生した場合、評価の高いアドオンから修正作業を行う事例も見受けられました。

=== アドオンにフィードバックするには

AnkiWeb にサインインすると当該アドオンのページでレイティングやコメントをつけることができます。
レイティングを記録する場所は、アドオンの個別メージの右上にあります。☆ をクリックすると評価を保存します。

.レイティングを付ける場所
image::/images/addons_guide_2.png["レイティングを付ける場所"]

それでは、作者のやる気を引き出す評価基準を参考までにあげておきましょう。
日本人の標準的な感覚としては中間が基準と考えがちですが、Anki のアドオン開発者コミュニティを観察した所では満点の ☆☆☆☆☆ が基準点と考えるのがよいと思います。
[frame="topbot",grid="rows",cols="1,1"]
|====
|☆☆☆☆☆ |問題もなく継続使用している場合
|☆☆☆☆ |動作には支障ないが、修正が必要な問題がある場合
|☆☆☆ |以下は、アドオンが動作しない、Anki が起動できない、データが破損した場合
|====

なお、AnkiWeb のアドオンページへのコメントに対してアドオン作者は直接返事ができません。
返事が必要な連絡には https://anki.tenderapp.com/discussions/add-ons[Anki サポートサイト (Add-ons カテゴリ)]が利用できます。全てではありませんが、アドオンの作者と直接連絡を取ることができます。

== まとめ

Anki の機能をもうすこし変えれば自分のやりたいことに一致するのにと思ったことはありませんか。
自分と同じことを考えている人が世の中にいて、共有のアドオンを公開してくれたりします。

Anki はアドオンの形でユーザーが機能拡張する機会を与えてくれています。
また、アドオンを作りやすい仕組みを持っています。Anki の使いやすさは、アドオンの質や量が向上することでさらに高められます。

自分もアドオンを作ってみようと思った方、link:/anki2addons/[Anki 2.0 アドオンの作成]という作成ガイドの日本語訳がありますので参考にして作ってみてください。

アドオンの最新動向は、link:http://ankigene.luminousspice.com/tags/%E3%82%A2%E3%83%89%E3%82%AA%E3%83%B3/[Ankigene]で紹介しています。

== 更新情報

2014/04/14: 初出

2014/04/26: 追加: Hierarchical Tags

2014/10/04: 更新: AwesomeTTS

2014/10/07: 追加: Power format pack

2015/02/08: 追加: Download audio 他3件

2015/10/31: 更新: Image Occlusion

2016/02/09: 追加: Zoom、Audio Playback Speed

2016/04/18: 更新: Image Occlusion、AwesomeTTS

2016/04/26: 更新: ウェブブラウザ機能拡張

2016/10/04: 更新: Image Occlusion

2016/12/10: 追加: Advanced Previewer

2017/08/18: 追加: Anki 2.1.x に関する注意