---
slug: "how-to-ankimobile-io"
date: "2016-04-07T12:18:02+00:00"
title: "AnkiMobile ノート: データ入出力"
type: "note"
categories: ["AnkiMobile"]
tags: ["iOS","iPhone"]
anki: ["AnkiMobile","iTunesファイル共有","共有単語帳","同期","書き出し","読み込み","apkg"]
excerpt: "AnkiMobile での単語帳データを読み込みや書き出しには、akpg ファイルで交換する汎用的な方法と、Anki との同期機能を持つ AnkiWeb あるいは iTunes ファイル共有を利用する方法の二種類があります。それぞれの使い方を iPhone を例にして説明します。"
---
= AnkiMobile ノート: データ入出力
:author: luminousspice
:lang: ja
:encoding: UTF-8
:keywords:
:description: AnkiMobile での単語帳データを読み込みや書き出しには、akpg ファイルで交換する汎用的な方法と、Anki との同期機能を持つ AnkiWeb あるいは iTunes ファイル共有を利用する方法の二種類があります。それぞれの使い方を iPhone を例にして説明します。
////
:toc: macro
:toc-placement:
:toclevels: 1
////

////
http://rs.luminousspice.com/
////

{description}

//toc::[]

== データの読み込み

https://geo.itunes.apple.com/jp/app/ankimobile-flashcards/id373493387?mt=8&at=11lGoS[AnkiMobile Flashcards] にデータを読み込みには、Anki と AnkiMobile がサポートしている同期機能を使う方法とAnki 単語帳パッケージファイル (apkg) でやり取りする方法が選べます。

=== collection 全体の同期のみが可能な方法

AnkiWeb 経由で同期:: この場合、更新したコレクションデータ全てが、AnkiMobile に反映されます。
iTunes 経由でコレクション全体を collection.apkg ファイルとして読み込む::
iTunes のファイル共有機能を使います。この場合、コレクション内の単語帳全てを上書きします。

=== 単語帳単位での読み込みも可能な方法

この方法は、単語帳単位での読み込みが可能ですが、`collection.apkg` も同様に可能です。

Safari 経由で apkg ファイルをダウンロード::　ダウンロード後、[Anki で開く] を選択します。共有単語帳のインストールはこの方法です。
メールに apkg ファイルを添付する::  受信メールに添付している apkg ファイルをタップし、[Anki で開く] を選択します。

.メール添付
image::/images/am-mail-deck.png["メール添付", width="300"]

=== テキストデータを一括登録するには

AnkiMobile には、テキストデータを一括登録する機能はありません。
まず、PC 版 Anki を利用して Anki 単語帳パッケージファイル (apkg) ファイルに変換します。
link:/how-to-import/[Ankiにデータをまとめて取り込む]ではテキストデータの一括登録する方法を説明しています。

その後、上で紹介したいずれかの方法で AnkiMobile へ持ち込みます。

== データの書き出し

AnkiMobile からデータを書き出す方法では細かい設定ができません。

AnkiMobile からのデータの出力方法は 2 通りです。

. AnkiWeb 経由で Anki と同期する。この場合、コレクションの更新内容全てを同期することになります。
. iTunes を経由でコレクションを書き出す。この場合、コレクション全体を書き出すことになります。

残念ながら、読み込みのように単語帳単位で書き出す方法はありません。

=== AnkiWeb のオンラインストレージによる同期

AnkiWeb に登録すると AnkiMobile のデータを保存でき、PC 版 Anki と学習データや設定を同期できるようになります。
くわしくは、link:/how-to-sync-with-ankiweb/[AnkiWeb 同期機能の使い方]をご覧下さい。

=== iTunes ファイル共有機能による入出力 

iTunes ファイル共有機能を使うとコレクション全体を collection.apkg ファイル単位で PC と iPhone の間で共有できます。

iTunes ファイル共有機能の USB または Wi-Fi を利用した具体的な設定方法は、Apple サポートサイトの記事 http://support.apple.com/kb/ht1386?viewlocale=ja_JP[iOS：iTunes とデータを同期する]を参考にしてください。

==== AnkiMobile 側の手順

単語帳一覧の画面左下の [Import/Export] をタップすると、データ入出力に関するダイアログが開きます。

.データ入出力ダイアログ
image::/images/am-io.png["データ入出力ダイアログ", width="300"]

[Import from iTuenes]:: コレクション全体を読み込んだファイルで置き換えます。
[Export to iTunes]:: コレクション全体を `collection.apkg` として書き出します。

==== PC 上の iTunes 側の手順

PC の iTunes 上で、AnkiMobile とのファイル共有画面は次のような手順で開きます。

. iTunes を起動し、画面右上の [iPhone] ボタンをクリックします。
(接続している iOS 機器によってこのボタンのラベルは変わります。)
. 画面上のツールバーから [App] を選択します。
. 画面を下にスクロールし [ファイル共有] の [App] の項目一覧から Ankiを選択します。
. [Anki の書類] というファイル一覧が右のパネルに表示します。

AnkiMobile から出力すると、下図のように `collection.apkg` が現れます。
このファイルを選択して、画面右下の [保存先] を押すと、PC 上の任意の場所に保存できます。

画面下の [追加] を選択すると、AnkiMobile へ読み込むファイルを選択できます。
ただし、`collection.apkg` という名前でなければ [Import from iTuenes] コマンドが機能しません。

.iTunes ファイル共有
image::/images/how-to-ankimobile-itunes.png["iTunes ファイル共有", width="600"]

== データ同期の注意点

AnkiWeb は、基本的に差分同期をするのでデータ転送量が少ないです。iTunes ファイル共有は接続機器のそばであれば USB で直接接続したり、高速な無線回線で接続できます。
AnkiWeb が常に万能な訳ではなく、同期するファイルの内容によって適切な手段が決まります。

日々の学習データを転送するには AnkiWeb が有利です。

高速に接続できる環境であれば、新しい単語帳を読み込んで、メディアファイルなどを含んだ容量の大きいを読み込むには iTunes ファイル共有が有利です。また大規模なバックアップの復元も、iTunes ファイル共有の方が短時間に処理できるでしょう。