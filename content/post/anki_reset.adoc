---
slug: "anki_reset"
date: "2013-09-28T22:00:25+00:00"
lastmod: "2016-05-02T23:41:06+00:00"
title: "Ankiと初期化"
weight: 10
categories: ["Anki"]
tags: ["Anki"]
anki: ["クリーンインストール","メンテナンス","リセット","学習履歴の初期化","復習間隔の初期化","書き出し","環境設定の初期化","自動バックアップ","読み込み"]
excerpt: "Ankiを使い込んでいくと、一旦設定を初期状態に戻したくなる場合があります。そこで、Ankiの環境設定とカードの設定の初期化の方法と注意点を紹介します。復習間隔や学習履歴を初期化、リセットする方法を取り上げます。"
---
= Ankiと初期化
:author: luminousspice
:lang: ja
:encoding: UTF-8
:keywords:
:description: Ankiを使い込んでいくと、一旦設定を初期状態に戻したくなる場合があります。そこで、Ankiの環境設定とカードの設定の初期化の方法と注意点を紹介します。復習間隔や学習履歴を初期化、リセットする方法を取り上げます。
:figure-caption: 図

////
http://rightstuff.luminousspice.com/anki_reset/
////

{description}

== Ankiの環境設定を初期化する

Ankiの環境設定を初期化するには設定ファイル *prefs.db* (Documents/Anki/prefs.db) を削除します。
この削除作業はAnkiを終了してから行います。
なお、*prefs.db* を削除しても単語帳の内容や学習履歴は影響を受けません。

安全のため、*prefs.db* を削除するよりも別のファイル名に変更する方法がよいでしょう。
もし、元の設定に戻したくなったら名前を *prefs.db* に戻せば設定を復元できます。
この場合も、名前の変更はAnkiを終了してから行います。

*prefs.db* がない状態でAnkiを起動すると、言語設定画面が開きます。これでAnkiの設定が初期化したことが分かります。

.言語設定画面
image::/images/how2anki_1_1.png["言語設定画面"]

== Ankiの再インストールと設定初期化

Ankiを再インストールと同時に設定も初期化したいのであれば、事前にAnkiのアプリケーション本体に加えて設定ファイル *prefs.db* も削除します。

この場合、既存のユーザプロファイル、ユーザープロファイル、単語帳、学習履歴、バックアップファイルは残ります。

== Ankiのクリーンインストール

Ankiのクリーンインストールを実行して、設定したユーザープロファイルや単語帳、学習履歴、バックアップファイルも消去するには、Ankiの再インストールの前にAnkiのアプリケーション本体と、Ankiフォルダー (Documents/Anki/) を削除します。

== カードの復習間隔を初期化する

ブラウザーでカードを選択し、メニューバーから[編集]-[スケジュールを変更]-[新規カードの最後に設定]を選択します。
この処理では、復習間隔とカードの易しさの指標を初期化します。学習後の復習期日の設定は追加したばかりの新規カードと同じになります。

.復習間隔の初期化の手順
image::/images/reset_1.png["復習間隔の初期化の手順"]

ただし、学習履歴はそのまま残ります。この項目も削除したい場合は次の項目をご覧ください。

この処理は、単語帳をスケジュール情報を含めずにAnki単語帳パッケージ(apkg)で書き出して、再度読み込んだ時と同じ結果になります。

== カードの学習履歴を初期化する

アドオン https://ankiweb.net/shared/info/787914845[Create Copy of Selected Cards]を使うと簡単に履歴の初期化ができます。

このアドオンを使ってカードをコピーすると、学習履歴はコピーしない機能を活用します。

.カード初期化の手順
. アドオンをインストールして Anki を再起動します・。
. カードブラウザで、初期化したいカードを選択します。
. メニューバーから [編集] - [Copy Cards] を選択します。
. 開いたダイアログにカードを保存する単語帳を指定して完了です。

.Create Copy of Selected Cards 保存先指定
image::/images/addon-copy-selected-cards.png["Create Copy of Selected Cards 保存先指定"]

.Create Copy of Selected Cards の特徴
* タグやマークを複製します。
* 保留、延期の状態は引き継ぎません。

== アドオンを使わないでカードで学習履歴を初期化する

アドオンを使わない方法も紹介しましょう。多少手順は複雑になります。

概略としては、ノートの内容をテキストファイルに書き出し、再度読み込んでカードを再作成する作業になります。
この説明では、安全を見込んでバックアップファイルを作りながら行っていきます。

安全で確実な手順は次の通りです。

=== ノートの書き出し

. 直近の自動バックアップファイルを取ります(a)。一旦Ankiを終了し、再起動します。複数のプロファイルを使用している場合は、一旦別のプロファイル変更して戻る処理でも良いです。  
. 履歴を初期化したいカードだけを集めた単語帳を作ります。複数のノートタイプがある場合はノートタイプ毎に分割します。ノートタイプの名前は記録しておいてください。
. この単語帳の内容をテキストファイルに書き出します。
メニューバーから[ファイル]-[書き出す](図4 1)を選択するか、ショートカット(Mac OS X: Command+E, Windows: Ctrl+E)を使います。

* 書き出しオプション　(図4 2)
- ファイルの形式: [テキストファイル形式のノート(*.txt)]
- 対象: [書き出す単語帳名]

. さらにバックアップとしてAnki単語帳パッケージで書き出します(b)。 
メニューバーから[ファイル]-[書き出す] (Mac OS X: Command+E; Windows: Ctrl+E)

* 書き出しオプション
- ファイルの形式: [Anki単語帳パッケージ(*.apkg)]
- 対象: [書き出す単語帳名]

. 書き出しが終わった単語帳を削除します(図4 3)。単語帳一覧から単語帳名右のドロップダウンリストで[削除]を選択します。

.ノートを書き出す手順
image::/images/reset_2.png["ノートを書き出す手順"]


Ankiのノートを書き出す方法は、link:/how-to-share-anki-decks/[Anki単語帳を共有する方法]でさらに詳しく説明しています。

=== テキストファイルの読み込み

. 書き出したテキストファイルを読み込みます。
[ファイルを読み込む]ボタン(図5 1)を押すか、メニューバーから[ファイル]-[読み込む]を選択するか、ショートカット(Mac OS X: Command+I; Windows: Ctrl+I)を使います。
* 読み込みファイルの指定(図5 2)
- ファイルの種類 [タブ区切りまたはセミコロン区切り(*)]
* 読み込みオプション(図5 3)
- 種類 [ノートタイプの名前]
- 単語帳 [読み込み先の単語帳名]

Ankiのブラウザーを開き、読み込み先の単語帳を選択して、カードが正しく作成されているか確認します。
読み込み先の単語帳が分からなくなった場合は、ブラウザーのサイドバーから[今日追加したカード]を選択してみてください。

いずれの場合も、正しく作成していれば、期日と易しさは初期化され、学習履歴は消えているはずです。

.テキストファイルを読み込む手順
image::/images/reset_3.png["テキストファイルを読み込む手順"]

テキストファイルの読み込み方の詳しい設定は、link:/how-to-import/[Ankiにデータをまとめて取り込む]で説明しています。

=== 読み込みに失敗したときのバックアップの使い方

何らかのトラブルで書き出したテキストファイルの読み込みができなかった場合、(b)で作成した単語帳を読み込むと、元の単語帳が修復できます。apkgファイルをダブルクリックすると読み込まれます。

(b)のバックアップ単語帳を作らなかった時、読み込みに失敗したときは、(a)の自動バックアップファイルから修復すると(a)の時点での単語帳コレクションの状態まで復元できます。

バックアップファイルについては、link:/anki_automatic_backup/[Anki自動バックアップ機能の使い方]で詳しく説明しています。

=== 元のカードを上書きしない理由

学習履歴を消去したいカードを削除してから読み込んだのは、読み込み時にカードを上書きしても、学習履歴は消去できないためです。

読み込みのオプションで[最初のフィールドが既存ノートと同じであっても読み込む]を選択した場合は、古いカードが残り、重複することになります。
[最初のフィールドが一致した場合、既存のノートを更新する]を選択した場合は、学習履歴の変更が行われません。

== 更新情報

2013/09/28: 初出

2016/05/03: 更新: カード履歴の初期化をアドオンを利用した方法に変更



