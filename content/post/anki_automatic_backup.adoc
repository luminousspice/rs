---
slug: "anki_automatic_backup"
date: "2013-07-05T23:00:59+00:00"
lastmod: "2016-06-02T07:31:23+00:00"
title: "Anki自動バックアップ機能の使い方"
categories: ["Anki"]
tags: ["Anki"]
anki: ["メンテナンス","削除ログ","自動バックアップ"]
excerpt: "Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成し、障害や操作ミスなどの不測の事態に備えています。このバックアップファイルを使った復旧方法を説明します。さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。"
---
= Anki自動バックアップファイルの使い方
:author: luminousspice
:lang: ja
:encoding: UTF-8
:keywords:
:description: Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成し、障害や操作ミスなどの不測の事態に備えています。このバックアップファイルを使った復旧方法を説明します。さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。

////
http://rightstuff.luminousspice.com/?p=939
////

== 自動バックアップとは
((("自動バックアップ",sortas="ジドウバックアップ")))

Ankiは、コレクションファイルを閉じる時に自動的にバックアップファイルを作成します。
Ankiがコレクションファイルを閉じるタイミングとは、Ankiを終了する時、プロファイルを変更する時、単語帳を同期する時です。
既定では過去30ファイル分保存していて、障害や操作ミスなどの不測の事態に備えています。

このバックアップファイルを使った復旧方法を説明します。

さらに、Anki2.0.9から導入された削除ログからの復旧方法も紹介します。

Anki の iOS アプリ AnkiMobile の自動バックアップについては、link:/how-to-ankimobile-backup/[AnkiMobile ノート: 自動バックアップ]をご覧下さい。

=== 自動バックアップの注意点
((("自動バックアップ","注意点",sortas="ジドウバックアップ",sortas2="チュウイテン")))

自動バックアップでは、ディスクの障害やコンピュータの故障には対応できません。また、メディアファイルは対象としていません。
データを安全に保管するには、定期的に手動でバックアップを行う必要があります。

最も簡単な手動バックアップの方法は、Ankiフォルダーを丸ごとバックアップすることです。その場合、必ずAnkiを終了してから行ってください。

== 自動バックアップの設定
((("自動バックアップ","設定",sortas="ジドウバックアップ",sortas2="セッテイ")))

バックアップファイルの設定は、メニューバーから [Anki] - [環境設定] (または [ツール] - [設定]) を選択し、[バックアップ] タブをクリックします。

.環境設定画面
image::/images/automatic_backup_1.png["環境設定画面"]

この設定画面で、保存するファイル数を指定できます。既定では30です。

バックアップファイルを見つけるには、[バックアップフォルダを開く]リンクをクリックすると、保存しているフォルダにアクセスできます。 実際のパスは既定では、 `(書類, ドキュメントフォルダ)/Anki/(プロファイル名)/backups` になります。
バックアップファイルは `backup-(連番).apkg` という名前で保存しています。

== 自動バックアップからの復旧方法
((("自動バックアップ","復旧",sortas="ジドウバックアップ",sortas2="フッキュウ")))

バックアップフォルダーの中の最新のバックアップファイルをダブルクリックすると、読み込みを行いコレクションデータを復旧します。

== 削除ログからの復旧方法
((("ノート","削除","復旧",sortas2="サクジョ",sortas3="フッキュウ")))

Anki2.0.9からはプロファイルディレクトリ内の `deleted.txt` ファイルに削除したカードのフィールドの内容を保存するようになりました。

このファイルに記録している削除したノートをテキストファイルの読み込み機能を使って復旧することができます。
一度に一種類のノートタイプの読み込みしかできませんので、ノートタイプ毎に読み込み処理を行う必要があります。

読み込み機能の詳しい内容については、link:/how-to-import/[Ankiにデータをまとめて取り込む]で説明しています。